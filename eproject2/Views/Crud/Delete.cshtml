@model eproject2.Models.UserProfile



<div class="container mt-3">
    <!-- Delete Button -->
    <button position: absolute; top: 80px;
            z-index: 1050; type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">
        Delete
    </button>
</div>

<!-- Bootstrap Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteModalLabel">Confirm Deletion</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this record?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirmDelete" data-id="@Model.Id">Yes, Delete</button>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript for AJAX -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $("#confirmDelete").click(function () {
            var userId = $(this).data("id");

            $.ajax({
                url: '/Crud/Delete/' + userId,
                type: 'POST',
                success: function (response) {
                    if (response.success) {
                        $("#deleteModal").modal('hide'); // Close Modal
                        alert(response.message); // Show Success Message
                        $("#user-" + userId).remove(); // Remove Deleted Row
                       $("#user-" + userId).remove(); // Remove Deleted Row

                    } else {
                        alert(response.message);
                    }
                },
                error: function () {
                    alert("Error deleting record.");
                }
            });
        });
    });
</script>
